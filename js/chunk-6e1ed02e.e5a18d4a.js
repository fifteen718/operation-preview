(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e1ed02e"],{"2d25":function(e,t,a){"use strict";var s=a("ca5a3"),l=a.n(s);l.a},"8e59":function(e,t,a){e.exports=a("a47e")},a47e:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"lk-toolbar"},[a("el-input",{directives:[{name:"validate",rawName:"v-validate",value:"numeric",expression:"'numeric'"}],class:[e.errors.has("uid")?"is-error-input":""],style:"width:"+(1===e.focusInput?"169px;":"100px;"),attrs:{size:"small",disabled:""!==e.queryParams.mobile||""!==e.queryParams.userName,placeholder:"用户ID",clearable:"",name:"uid","data-vv-as":"用户ID"},on:{focus:function(t){e.focusInput=1}},model:{value:e.queryParams.uid,callback:function(t){e.$set(e.queryParams,"uid","string"===typeof t?t.trim():t)},expression:"queryParams.uid"}}),a("el-input",{directives:[{name:"validate",rawName:"v-validate",value:"mobile",expression:"'mobile'"}],class:[e.errors.has("mobile")?"is-error-input":""],style:"width:"+(2===e.focusInput?"169px;":"100px;"),attrs:{size:"small",disabled:""!==e.queryParams.uid||""!==e.queryParams.userName,placeholder:"手机号",clearable:"",name:"mobile","data-vv-as":"手机号"},on:{focus:function(t){e.focusInput=2}},model:{value:e.queryParams.mobile,callback:function(t){e.$set(e.queryParams,"mobile","string"===typeof t?t.trim():t)},expression:"queryParams.mobile"}}),a("el-input",{style:"width:"+(3===e.focusInput?"169px;":"100px;"),attrs:{size:"small",disabled:""!==e.queryParams.mobile||""!==e.queryParams.uid,placeholder:"用户昵称",clearable:""},on:{focus:function(t){e.focusInput=3}},model:{value:e.queryParams.userName,callback:function(t){e.$set(e.queryParams,"userName","string"===typeof t?t.trim():t)},expression:"queryParams.userName"}}),a("el-select",{attrs:{size:"small",placeholder:"账号状态",clearable:""},model:{value:e.queryParams.userStatus,callback:function(t){e.$set(e.queryParams,"userStatus",t)},expression:"queryParams.userStatus"}},[a("el-option",{attrs:{label:"冻结中",value:0}}),a("el-option",{attrs:{label:"正常",value:1}})],1),a("el-select",{attrs:{size:"small",placeholder:"账号类型",clearable:""},model:{value:e.queryParams.merType,callback:function(t){e.$set(e.queryParams,"merType",t)},expression:"queryParams.merType"}},[a("el-option",{attrs:{label:"普通用户",value:1}}),a("el-option",{attrs:{label:"一级分销",value:2}}),a("el-option",{attrs:{label:"区域代理",value:3}})],1),a("el-button",{attrs:{size:"small",type:"primary",disabled:e.errors.has("uid")||e.errors.has("mobile")},on:{click:e.queryList}},[e._v("搜索")]),e.errors.has("uid")||e.errors.has("mobile")?a("div",{staticClass:"el-input__error"},[e._v(e._s(e.errors.first("uid")||e.errors.first("mobile")))]):e._e()],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],attrs:{data:e.tableData,"element-loading-text":"拼命加载中",height:"100%",border:""}},[a("el-table-column",{attrs:{type:"index",width:"50",label:"序号"}}),a("el-table-column",{attrs:{prop:"uid",label:"ID"}}),a("el-table-column",{attrs:{prop:"registerTime",width:"180",label:"注册时间",formatter:e.$dateFormatter}}),a("el-table-column",{attrs:{prop:"userName",label:"名字"}}),a("el-table-column",{attrs:{prop:"gender",label:"性别",formatter:e.$genderFormatter}}),a("el-table-column",{attrs:{prop:"city",label:"地区"}}),a("el-table-column",{attrs:{prop:"registerType",label:"注册方式",formatter:e.$registerTypeFormatter}}),a("el-table-column",{attrs:{prop:"mobile",label:"手机号"}}),a("el-table-column",{attrs:{prop:"merType",label:"账户类型",formatter:e.$merTypeFormatter}}),a("el-table-column",{attrs:{prop:"level",label:"用户段位",formatter:e.$levelFormatter}}),a("el-table-column",{attrs:{prop:"isVip",label:"299会员",formatter:e.$isVipFormatter}}),a("el-table-column",{attrs:{prop:"power",label:"算力值"}}),a("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{"disable-transitions":"",type:1===t.row.userStatus?"success":"danger"}},[e._v("\n                    "+e._s(1===t.row.userStatus?"正常":"冻结")+"\n                ")])]}}])}),a("el-table-column",{attrs:{label:"操作","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.seeDetail(t.row)}}},[e._v("详情")]),a("el-button",{attrs:{type:"text"},on:{click:function(a){e.freezeAccount(t.row)}}},[e._v("\n                    "+e._s(0===t.row.userStatus?"解冻":"冻结")+"\n                ")]),1===t.row.merType?[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.setFirst(t.row)}}},[e._v("设为一级")]),a("el-button",{attrs:{type:"text"},on:{click:function(a){e.setArea(t.row)}}},[e._v("设为区域")])]:e._e()]}}])})],1),a("el-pagination",{attrs:{"current-page":e.queryParams.currentPage,"page-size":20,total:e.total,layout:"->, total, prev, pager, next, jumper"},on:{"current-change":e.queryList,"update:currentPage":function(t){e.$set(e.queryParams,"currentPage",t)}}}),a("detail-dialog",{attrs:{dialogData:e.rowData},model:{value:e.detailDialogVisible,callback:function(t){e.detailDialogVisible=t},expression:"detailDialogVisible"}}),a("first-dialog",{attrs:{dialogData:e.rowData},model:{value:e.firstDialogVisible,callback:function(t){e.firstDialogVisible=t},expression:"firstDialogVisible"}})],1)},l=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"用户信息",visible:e.detailDialogVisible,width:"60%"},on:{"update:visible":function(t){e.detailDialogVisible=t}}},[a("el-tabs",{staticStyle:{height:"500px",overflow:"auto"},attrs:{type:"border-card"},model:{value:e.activeIndex,callback:function(t){e.activeIndex=t},expression:"activeIndex"}},[a("el-tab-pane",{attrs:{label:"基础信息"}},[a("el-row",[a("el-col",{attrs:{span:4}},[e._v("注册时间")]),a("el-col",{attrs:{span:8}},[e._v(e._s(e.baseInfo&&e.$dateFormatter(null,null,e.baseInfo.ctime)||"--"))]),a("el-col",{attrs:{span:4}},[e._v("用户ID")]),a("el-col",{attrs:{span:8}},[e._v(e._s(e.baseInfo&&e.baseInfo.uid||"--"))])],1),a("el-row",[a("el-col",{attrs:{span:4}},[e._v("名字")]),a("el-col",{attrs:{span:8}},[e._v(e._s(e.baseInfo&&e.baseInfo.userName||"--"))]),a("el-col",{attrs:{span:4}},[e._v("性别")]),a("el-col",{attrs:{span:8}},[e._v(e._s(e.baseInfo&&e.$genderFormatter(null,null,e.baseInfo.gender)||"--"))])],1),a("el-row",[a("el-col",{attrs:{span:4}},[e._v("地区")]),a("el-col",{attrs:{span:8}},[e._v(e._s(e.baseInfo&&e.baseInfo.city||"--"))]),a("el-col",{attrs:{span:4}},[e._v("详细地址")]),a("el-col",{attrs:{span:8}},[e._v(e._s(e.baseInfo&&e.baseInfo.address||"--"))])],1),a("el-row",[a("el-col",{attrs:{span:4}},[e._v("用户段位")]),a("el-col",{attrs:{span:8}},[e._v(e._s(e.baseInfo&&e.$levelFormatter(null,null,e.baseInfo.level)||"--"))]),a("el-col",{attrs:{span:4}},[e._v("注册方式")]),a("el-col",{attrs:{span:8}},[e._v(e._s(e.baseInfo&&e.$registerTypeFormatter(null,null,e.baseInfo.registerType)||"--"))])],1),a("el-row",[a("el-col",{attrs:{span:4}},[e._v("手机号")]),a("el-col",{attrs:{span:8}},[e._v(e._s(e.baseInfo&&e.baseInfo.mobile||"--"))]),a("el-col",{attrs:{span:4}},[e._v("邮箱")]),a("el-col",{attrs:{span:8}},[e._v(e._s(e.baseInfo&&e.baseInfo.email||"--"))])],1),a("el-row",[a("el-col",{attrs:{span:4}},[e._v("是否299会员")]),a("el-col",{attrs:{span:8}},[e._v(e._s(e.baseInfo&&e.$isVipFormatter(null,null,e.baseInfo.vip)||"--"))]),a("el-col",{attrs:{span:4}},[e._v("299会员有效期至")]),a("el-col",{attrs:{span:8}},[e._v(e._s(e.baseInfo&&e.$dateFormatter(null,null,e.baseInfo.invalidTime)||"--"))])],1),a("el-row",[a("el-col",{attrs:{span:4}},[e._v("公司")]),a("el-col",{attrs:{span:8}},[e._v(e._s(e.baseInfo&&e.baseInfo.company||"--"))]),a("el-col",{attrs:{span:4}},[e._v("职务")]),a("el-col",{attrs:{span:8}},[e._v(e._s(e.baseInfo&&e.baseInfo.position||"--"))])],1),a("el-row",[a("el-col",{attrs:{span:4}},[e._v("一句话介绍")]),a("el-col",{attrs:{span:8}},[e._v(e._s(e.baseInfo&&e.baseInfo.motto||"--"))])],1)],1),a("el-tab-pane",{attrs:{label:"资产信息"}},[a("el-row",[a("el-col",{attrs:{span:6}},[e._v("LKC余额")]),a("el-col",{attrs:{span:18}},[e._v(e._s(e.assetsInfo))])],1)],1),a("el-tab-pane",{attrs:{label:"路演信息"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.activityLoading,expression:"activityLoading"}],attrs:{data:e.activityInfo,"element-loading-text":"拼命加载中",height:"380px",border:""}},[a("el-table-column",{attrs:{label:"项目信息","min-width":"240","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("img",{staticClass:"activityInfoIcon",attrs:{src:t.row.icon}}),a("div",{staticClass:"activityInfoContent"},[a("p",[e._v(e._s(t.row.name))]),a("p",[e._v(e._s(t.row.area))]),a("p",[e._v("报名活动："+e._s(t.row.title))])])]}}])}),a("el-table-column",{attrs:{label:"获得票数","min-width":"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("label",{staticClass:"amountLabel"},[e._v(e._s(t.row.amount))])]}}])}),a("el-table-column",{attrs:{prop:"ranking",label:"比赛结果","min-width":"160",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("label",{staticClass:"rankingLabel"},[e._v("第"+e._s(t.row.ranking||"?")+"名")]),a("el-tag",{attrs:{"disable-transitions":"",size:"medium",type:1===t.row.result?"success":"danger"}},[e._v("\n                            "+e._s(1===t.row.result?"获胜":"淘汰")+"\n                        ")])]}}])})],1),a("el-pagination",{attrs:{"current-page":e.activityPage,"page-size":20,total:e.activityTotal,layout:"->, total, prev, pager, next, jumper"},on:{"current-change":e.getActivityInfo,"update:currentPage":function(t){e.activityPage=t}}})],1),a("el-tab-pane",{attrs:{label:"投票信息"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.voteLoading,expression:"voteLoading"}],attrs:{data:e.voteInfo,"element-loading-text":"拼命加载中",height:"380px",border:""}},[a("el-table-column",{attrs:{label:"投票的项目","min-width":"240","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("img",{staticClass:"activityInfoIcon",attrs:{src:t.row.icon}}),a("div",{staticClass:"activityInfoContent"},[a("p",[e._v(e._s(t.row.name))]),a("p",[e._v(e._s(t.row.area))]),a("p",[e._v("报名活动："+e._s(t.row.title))])])]}}])}),a("el-table-column",{attrs:{label:"我投的票数","min-width":"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("label",{staticClass:"amountLabel"},[e._v(e._s(t.row.amount))])]}}])}),a("el-table-column",{attrs:{label:"比赛结果",prop:"ranking","min-width":"160",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("label",{staticClass:"rankingLabel"},[e._v("第"+e._s(t.row.ranking||"?")+"名")]),a("el-tag",{attrs:{"disable-transitions":"",size:"medium",type:1===t.row.result?"success":"danger"}},[e._v("\n                            "+e._s(1===t.row.result?"获胜":"淘汰")+"\n                        ")])]}}])})],1),a("el-pagination",{attrs:{"current-page":e.votePage,"page-size":20,total:e.voteTotal,layout:"->, total, prev, pager, next, jumper"},on:{"current-change":e.getVoteInfo,"update:currentPage":function(t){e.votePage=t}}})],1)],1)],1)},n=[],r={props:{value:{type:Boolean,default:!1},dialogData:{}},data:function(){return{uid:null,detailDialogVisible:!1,baseInfo:null,assetsInfo:null,activityInfo:null,voteInfo:null,activityPage:1,votePage:1,activityTotal:null,voteTotal:null,activeIndex:"0",activityLoading:!1,voteLoading:!1}},watch:{value:function(e){this.detailDialogVisible=e,e&&(this.uid&&this.uid===this.dialogData.uid||(this.uid=this.dialogData.uid,this.init()))},detailDialogVisible:function(e){this.$emit("input",e)}},methods:{init:function(){this.activeIndex="0",this.baseInfo=null,this.assetsInfo=null,this.activityInfo=null,this.voteInfo=null,this.activityPage=1,this.votePage=1,this.activityTotal=null,this.voteTotal=null,this.getBaseInfo(),this.getAssetsInfo(),this.getActivityInfo(),this.getVoteInfo()},getBaseInfo:function(){var e=this;this.$apis.getUserBaseInfo({uid:this.uid}).then(function(t){"2000"===t.code?e.baseInfo=t.data:e.$message.error(t.message)})},getAssetsInfo:function(){var e=this;this.$apis.getLkc({uid:this.uid}).then(function(t){"2000"===t.code?e.assetsInfo=t.data:e.$message.error(t.message)})},getActivityInfo:function(){var e=this;this.$apis.queryActivityInfo({uid:this.uid,currentPage:this.activityPage}).then(function(t){"2000"===t.code?(e.activityInfo=t.data.list,e.activityTotal=t.data.total):e.$message.error(t.message)})},getVoteInfo:function(){var e=this;this.$apis.queryActivityVoteInfo({uid:this.uid,currentPage:this.votePage}).then(function(t){"2000"===t.code?(e.voteInfo=t.data.list,e.voteTotal=t.data.total):e.$message.error(t.message)})}}},o=r,u=(a("2d25"),a("2877")),c=Object(u["a"])(o,i,n,!1,null,"3abb4b20",null);c.options.__file="detailDialog.vue";var d=c.exports,p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.firstDialogVisible,width:"300px"},on:{"update:visible":function(t){e.firstDialogVisible=t}}},[a("p",{staticStyle:{"margin-bottom":"20px"}},[e._v("确认将"+e._s(e.userName)+"设为一级分销?")]),a("el-select",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"element-loading-spinner":"el-icon-loading",clearable:"",filterable:"",placeholder:"请选择上级区域",size:"small"},model:{value:e.channel,callback:function(t){e.channel=t},expression:"channel"}},e._l(e.users,function(t){return a("el-option",{key:t.uid,attrs:{label:t.userName,value:t.uid}},[e._v("\n            "+e._s(t.userName)+"\n        ")])})),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.firstDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.sureHandler}},[e._v("确 认")])],1)],1)},m=[],f={props:{value:{type:Boolean,default:!1},dialogData:{}},data:function(){return{loading:!1,firstDialogVisible:!1,userName:"",channel:"",users:[]}},watch:{value:function(e){this.firstDialogVisible=e,e&&(this.userName=this.dialogData.userName,this.channel="",this.listUsers())},firstDialogVisible:function(e){this.$emit("input",e)}},methods:{sureHandler:function(){var e=this;if(this.channel){var t={};t.uid=this.dialogData.uid,t.merType=2,t.channel=this.channel,this.$apis.setAsMer(t).then(function(t){"2000"===t.code?(e.$message.success("设置成功"),e.firstDialogVisible=!1,e.$parent.queryList()):e.$message.error(t.message)}).catch(function(t){e.$message.error(t)})}else this.$message.error("请选择上级区域")},listUsers:function(){var e=this;this.loading=!0,this.$apis.listUserInfoByMerType({merType:3}).then(function(t){e.loading=!1,e.users=t.data}).catch(function(t){e.loading=!1,e.$message({showClose:!0,type:"error",message:t.message})})}}},b=f,v=Object(u["a"])(b,p,m,!1,null,null,null);v.options.__file="firstDialog.vue";var g=v.exports,h={data:function(){return{queryParams:{uid:"",mobile:"",userName:"",currentPage:1},detailDialogVisible:!1,firstDialogVisible:!1,rowData:null,tableData:null,total:null,tableLoading:!1,focusInput:0}},components:{detailDialog:d,firstDialog:g},created:function(){this.queryList()},methods:{queryList:function(){var e=this;this.tableLoading=!0,this.$apis.queryUserDetail(this.queryParams).then(function(t){e.tableLoading=!1,"2000"===t.code?(e.tableData=t.data.list,e.total=t.data.total):e.$message.error(t.message)}).catch(function(t){e.tableLoading=!1,e.$message.error(t)})},seeDetail:function(e){this.rowData=e,this.detailDialogVisible=!0},freezeAccount:function(e){var t=this;0===e.userStatus?this.$confirm("确认解冻".concat(e.userName,"?")).then(function(a){var s={};s.uid=e.uid,s.userStatus=1,t.$apis.toggleUserStatus(s).then(function(e){"2000"===e.code?(t.$message.success("解冻成功"),t.queryList()):t.$message.error(e.message)}).catch(function(e){t.$message.error(e)})}).catch(function(e){}):this.$confirm("确认冻结".concat(e.userName,"?")).then(function(a){var s={};s.uid=e.uid,s.userStatus=0,t.$apis.toggleUserStatus(s).then(function(e){"2000"===e.code?(t.$message.success("冻结成功"),t.queryList()):t.$message.error(e.message)}).catch(function(e){t.$message.error(e)})}).catch(function(e){})},setArea:function(e){var t=this;this.$confirm("确认将".concat(e.userName,"设为区域代理?")).then(function(a){var s={};s.uid=e.uid,s.merType=3,s.channel=0,t.$apis.setAsMer(s).then(function(e){"2000"===e.code?(t.$message.success("设置成功"),t.queryList()):t.$message.error(e.message)}).catch(function(e){t.$message.error(e)})}).catch(function(e){})},setFirst:function(e){this.firstDialogVisible=!0,this.rowData=e}}},y=h,_=Object(u["a"])(y,s,l,!1,null,null,null);_.options.__file="userDetail.vue";t["default"]=_.exports},ca5a3:function(e,t,a){}}]);
//# sourceMappingURL=chunk-6e1ed02e.e5a18d4a.js.map