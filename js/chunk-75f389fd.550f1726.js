(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75f389fd"],{"3df2":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"lk-toolbar"},[a("el-button",{attrs:{size:"small",type:"success"},on:{click:e.addMenu}},[e._v("添加权限")])],1),a("el-table",{attrs:{data:e.listData,border:"","row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-table",{attrs:{data:t.row.children,border:"","show-header":!1,"row-class-name":e.tableRowClassName}},[a("el-table-column",{attrs:{prop:"menuName",label:"子菜单"}}),a("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.disabled?[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.toggleOpen(t.row)}}},[e._v("激活")])]:[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.toggleOpen(t.row)}}},[e._v("失效")])],a("el-button",{attrs:{type:"text"},on:{click:function(a){e.addMenu(t.row,!0)}}},[e._v("修改")]),a("el-button",{attrs:{type:"text"},on:{click:function(a){e.deleteMenu(t.row)}}},[e._v("删除")])]}}])})],1)]}}])}),a("el-table-column",{attrs:{prop:"menuName",label:"权限列表"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.disabled?[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.toggleOpen(t.row)}}},[e._v("激活")])]:[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.toggleOpen(t.row)}}},[e._v("失效")])],a("el-button",{attrs:{type:"text"},on:{click:function(a){e.addMenu(t.row,!0)}}},[e._v("修改")]),a("el-button",{attrs:{type:"text"},on:{click:function(a){e.addMenu(t.row,!1)}}},[e._v("添加")]),a("el-button",{attrs:{type:"text"},on:{click:function(a){e.deleteMenu(t.row)}}},[e._v("删除")])]}}])})],1),a("add-dialog",{attrs:{dialogData:e.menuData},model:{value:e.addDialogVisible,callback:function(t){e.addDialogVisible=t},expression:"addDialogVisible"}})],1)},o=[],l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.title,visible:e.addDialogVisible,center:""},on:{"update:visible":function(t){e.addDialogVisible=t}}},[a("el-form",{staticClass:"lk-form",attrs:{"label-position":"right","label-width":"100px"}},[a("el-form-item",{attrs:{label:"权限名"}},[a("el-input",{model:{value:e.formData.menuName,callback:function(t){e.$set(e.formData,"menuName",t)},expression:"formData.menuName"}})],1),a("el-form-item",{attrs:{label:"权限路径"}},[a("el-input",{model:{value:e.formData.menuPath,callback:function(t){e.$set(e.formData,"menuPath",t)},expression:"formData.menuPath"}})],1),a("el-form-item",{attrs:{label:"权限状态"}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.formData.menuStatus,callback:function(t){e.$set(e.formData,"menuStatus",t)},expression:"formData.menuStatus"}}),a("span",{staticStyle:{"margin-left":"10px",color:"#409EFF"}},[e._v(e._s(!0===e.formData.menuStatus?"有效":"无效"))])],1),a("el-form-item",{attrs:{label:"权限图标"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formData.menuIcon,callback:function(t){e.$set(e.formData,"menuIcon",t)},expression:"formData.menuIcon"}},e._l(e.menuIcons,function(t){return a("el-option",{key:t.value,attrs:{label:t.name,value:t.value}},[a("span",{class:t.value,staticStyle:{float:"left","margin-top":"10px"}}),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.name))])])}))],1),a("el-form-item",{attrs:{label:"权限备注"}},[a("el-input",{model:{value:e.formData.menuRemark,callback:function(t){e.$set(e.formData,"menuRemark",t)},expression:"formData.menuRemark"}})],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确 认")]),a("el-button",{on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")])],1)],1)},i=[],u=a("be94"),s=(a("cadf"),a("551c"),a("097d"),{props:{value:{type:Boolean,default:!1},dialogData:{default:null}},data:function(){return{formData:{menuStatus:!0},title:"",addDialogVisible:!1,menuIcons:[{value:"el-icon-setting",name:"设置"},{value:"el-icon-message",name:"消息"},{value:"el-icon-tickets",name:"记录"},{value:"el-icon-service",name:"客服"},{value:"el-icon-goods",name:"购物袋"},{value:"el-icon-star-off",name:"五角星"},{value:"el-icon-date",name:"日历"},{value:"el-icon-bell",name:"铃铛"},{value:"el-icon-view",name:"视野"},{value:"el-icon-location-outline",name:"定位"},{value:"el-icon-picture-outline",name:"图片"}]}},watch:{value:function(e){this.addDialogVisible=e,e&&(this.dialogData.editable?(this.title="修改权限",this.formData={menuName:this.dialogData.menuName,menuPath:this.dialogData.menuPath,menuStatus:!this.dialogData.disabled,menuIcon:this.dialogData.menuIcon,menuRemark:this.dialogData.menuRemark}):(this.title="添加权限",this.formData={menuStatus:!0}),this.num=this.dialogData.num)},addDialogVisible:function(e){this.$emit("input",e)}},methods:{submit:function(){var e=this,t=Object(u["a"])({},this.formData);this.dialogData.editable?(t.menuId=this.dialogData.menuId,t.parentMenuId=this.dialogData.parentMenuId):(t.menuId=0,t.parentMenuId=this.dialogData.menuId||0),t.menuStatus=t.menuStatus?1:0,t.menuType=t.parentMenuId?2:1,this.$apis.addOrUpdateMenu(t).then(function(t){"2000"===t.code?(e.addDialogVisible=!1,e.$parent.queryMenu()):e.$message.error(t.message)}).catch(function(t){e.$message.error(t)})}}}),r=s,c=a("2877"),m=Object(c["a"])(r,l,i,!1,null,null,null);m.options.__file="addDialog.vue";var d=m.exports,f={data:function(){return{addDialogVisible:!1,listData:[],menuData:null}},components:{addDialog:d},created:function(){this.queryMenu()},methods:{queryMenu:function(){var e=this;this.$apis.queryRoleMenu().then(function(t){"2000"===t.code?e.listData=t.data.menuList:e.$message.error(t.message)}).catch(function(t){e.$message.error(t)})},addMenu:function(e,t){this.menuData=e,this.menuData.editable=t,this.addDialogVisible=!0},toggleOpen:function(e){var t=this;this.$confirm(e.disabled?"确认设为有效？":"确认设为失效？").then(function(a){var n={};n.menuId=e.menuId,n.menuStatus=e.disabled?1:0,t.$apis.updateMenuStatus(n).then(function(e){"2000"===e.code?t.queryMenu():t.$message.error(e.message)}).catch(function(e){t.$message.error(e)})}).catch(function(e){})},deleteMenu:function(e){var t=this;this.$confirm("确认删除".concat(e.menuName,"?")).then(function(a){t.$apis.deleteMenu({menuId:e.menuId}).then(function(e){"2000"===e.code?t.queryMenu():t.$message.error(e.message)}).catch(function(e){t.$message.error(e)})}).catch(function(e){})},tableRowClassName:function(e){var t=e.row;e.rowIndex;return t.disabled?"disabled-row":""}}},b=f,p=(a("f885"),Object(c["a"])(b,n,o,!1,null,null,null));p.options.__file="menusManage.vue";t["default"]=p.exports},9786:function(e,t,a){e.exports=a("3df2")},b79f:function(e,t,a){},be94:function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},o=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),o.forEach(function(t){n(e,t,a[t])})}return e}a.d(t,"a",function(){return o})},f885:function(e,t,a){"use strict";var n=a("b79f"),o=a.n(n);o.a}}]);
//# sourceMappingURL=chunk-75f389fd.550f1726.js.map